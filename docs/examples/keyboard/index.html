<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Vector.js</title>
  <meta name="description" content="This interactive demonstrates how key board input can be used to add interactivity." />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon' href='/favicon.png"/>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  

<link href="/scss/main.css" rel="stylesheet" media="screen">

  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106670688-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-106670688-3');
</script>

  
  
  <link rel="stylesheet" type="text/css" href="/library.css">
</head>
<body>

<header class="text-center">
	<div class="small-container">
    <a href="/"><h1>Vector.js</h1></a>
		<p>Vector is an open source javascript library for creating interactive graphics. View the <a href="https://github.com/vector-js/vector.git" target="_blank" rel="noreferrer">repository</a>, run the <a href="/tests/">tests</a>, or meet the <a href="/team/">team</a>.</p>
    <p>
			<a href="/examples/"><button class="muted-button">Examples</button></a>
      <a href="/tutorials/"><button class="muted-button">Tutorials</button></a>
    </p>
	</div>
</header>

<main class="medium-container">

  
  <h1>Keyboard <a style="float:right" href="/sandbox/?script=/examples/interaction/keyboard.js" class="button">Open in Sandbox</a></h1>
  
<div id="keyboard" class="vertical-center i-container"></div>
<script type="module" src="/examples/interaction/keyboard.js"></script>

  
    <h2>Description</h2>
    <p>This interactive demonstrates how key board input can be used to add interactivity.</p>
  
  <h2>Script</h2>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">* @title Keyboard
</span></span></span><span class="line"><span class="cl"><span class="cm">* @description This interactive demonstrates how key board input can be used to add interactivity.
</span></span></span><span class="line"><span class="cl"><span class="cm">* @tags [input]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Interactive</span><span class="p">,</span> <span class="nx">getScriptName</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../../index.js&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">interactive</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interactive</span><span class="p">(</span><span class="nx">getScriptName</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">interactive</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">768</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">interactive</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">interactive</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">buffer</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">keys</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;`&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="s1">&#39;Backspace&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="s1">&#39;tab&#39;</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;\\&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="s1">&#39;CapsLock&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="s1">&#39;\&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Enter&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="s1">&#39;Shift&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;Shift&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="s1">&#39;fn&#39;</span><span class="p">,</span> <span class="s1">&#39;Control&#39;</span><span class="p">,</span> <span class="s1">&#39;Alt&#39;</span><span class="p">,</span> <span class="s1">&#39;Meta&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Meta&#39;</span><span class="p">,</span> <span class="s1">&#39;Alt&#39;</span><span class="p">,</span> <span class="s1">&#39;ArrowLeft&#39;</span><span class="p">,</span> <span class="s1">&#39;ArrowUp&#39;</span><span class="p">,</span> <span class="s1">&#39;ArrowDown&#39;</span><span class="p">,</span> <span class="s1">&#39;ArrowRight&#39;</span><span class="p">]];</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">keycodes</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&#34;0&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;)&#34;</span> <span class="p">},</span> <span class="s2">&#34;1&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;!&#34;</span> <span class="p">},</span> <span class="s2">&#34;2&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;@&#34;</span> <span class="p">},</span> <span class="s2">&#34;3&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;#&#34;</span> <span class="p">},</span> <span class="s2">&#34;4&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;$&#34;</span> <span class="p">},</span> <span class="s2">&#34;5&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;%&#34;</span> <span class="p">},</span> <span class="s2">&#34;6&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;^&#34;</span> <span class="p">},</span> <span class="s2">&#34;7&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&amp;&#34;</span> <span class="p">},</span> <span class="s2">&#34;8&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;*&#34;</span> <span class="p">},</span> <span class="s2">&#34;9&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;(&#34;</span> <span class="p">},</span> <span class="s2">&#34;a&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;A&#34;</span> <span class="p">},</span> <span class="s2">&#34;b&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;B&#34;</span> <span class="p">},</span> <span class="s2">&#34;c&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;c&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;C&#34;</span> <span class="p">},</span> <span class="s2">&#34;d&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;d&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;D&#34;</span> <span class="p">},</span> <span class="s2">&#34;e&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;e&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;E&#34;</span> <span class="p">},</span> <span class="s2">&#34;f&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;f&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;F&#34;</span> <span class="p">},</span> <span class="s2">&#34;g&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;g&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;G&#34;</span> <span class="p">},</span> <span class="s2">&#34;h&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;h&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;H&#34;</span> <span class="p">},</span> <span class="s2">&#34;i&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;i&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;I&#34;</span> <span class="p">},</span> <span class="s2">&#34;j&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;j&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;J&#34;</span> <span class="p">},</span> <span class="s2">&#34;k&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;k&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;K&#34;</span> <span class="p">},</span> <span class="s2">&#34;l&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;l&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;L&#34;</span> <span class="p">},</span> <span class="s2">&#34;m&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;m&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;M&#34;</span> <span class="p">},</span> <span class="s2">&#34;n&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;N&#34;</span> <span class="p">},</span> <span class="s2">&#34;o&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;o&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;O&#34;</span> <span class="p">},</span> <span class="s2">&#34;p&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;p&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;P&#34;</span> <span class="p">},</span> <span class="s2">&#34;q&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;q&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;Q&#34;</span> <span class="p">},</span> <span class="s2">&#34;r&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;r&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;R&#34;</span> <span class="p">},</span> <span class="s2">&#34;s&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;s&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;S&#34;</span> <span class="p">},</span> <span class="s2">&#34;t&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;t&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;T&#34;</span> <span class="p">},</span> <span class="s2">&#34;u&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;u&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;U&#34;</span> <span class="p">},</span> <span class="s2">&#34;v&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;v&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;V&#34;</span> <span class="p">},</span> <span class="s2">&#34;w&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;w&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;W&#34;</span> <span class="p">},</span> <span class="s2">&#34;x&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;x&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;X&#34;</span> <span class="p">},</span> <span class="s2">&#34;y&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;y&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;Y&#34;</span> <span class="p">},</span> <span class="s2">&#34;z&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;z&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;Z&#34;</span> <span class="p">},</span> <span class="s2">&#34;`&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;`&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;~&#34;</span> <span class="p">},</span> <span class="s2">&#34;-&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;-&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;_&#34;</span> <span class="p">},</span> <span class="s2">&#34;=&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;=&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;+&#34;</span> <span class="p">},</span> <span class="s2">&#34;;&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;;&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;:&#34;</span> <span class="p">},</span> <span class="s2">&#34;&#39;&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;\&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;[&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;[&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;{&#34;</span> <span class="p">},</span> <span class="s2">&#34;]&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;]&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;}&#34;</span> <span class="p">},</span> <span class="s2">&#34;\\&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;\\&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;|&#34;</span> <span class="p">},</span> <span class="s2">&#34;,&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;,&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&lt;&#34;</span> <span class="p">},</span> <span class="s2">&#34;.&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&gt;&#34;</span> <span class="p">},</span> <span class="s2">&#34;/&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;/&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;?&#34;</span> <span class="p">},</span> <span class="s2">&#34;Backspace&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⌫&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;tab&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;  &#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;CapsLock&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⇪&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⇧&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;Enter&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⏎&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;Control&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⌃&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;Alt&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;Alt&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;Meta&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;⌘&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;ArrowLeft&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;←&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;ArrowUp&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;↑&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;ArrowDown&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;↓&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34;ArrowRight&#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34;→&#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">},</span> <span class="s2">&#34; &#34;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&#34;Symbol&#34;</span><span class="o">:</span> <span class="s2">&#34; &#34;</span><span class="p">,</span> <span class="s2">&#34;Shift&#34;</span><span class="o">:</span> <span class="s2">&#34;&#34;</span> <span class="p">}</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">buttonMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">height</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">capslock</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="s1">&#39;CapsLock&#39;</span><span class="p">].</span><span class="nx">Symbol</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">shift</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="s1">&#39;Shift&#39;</span><span class="p">].</span><span class="nx">Symbol</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">row</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">row</span> <span class="o">&lt;</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">row</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">keys</span><span class="p">[</span><span class="nx">row</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">keys</span><span class="p">[</span><span class="nx">row</span><span class="p">][</span><span class="nx">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">width</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">button</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">switch</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s1">&#39;CapsLock&#39;</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">button</span> <span class="o">=</span> <span class="nx">capslock</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s1">&#39;Shift&#39;</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="nx">shift</span><span class="p">.</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">button</span> <span class="o">=</span> <span class="nx">shift</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">button</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span> <span class="o">:</span> <span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span> <span class="o">=</span> <span class="mi">90</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s1">&#39;tab&#39;</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">button</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span> <span class="o">:</span> <span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s1">&#39; &#39;</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span> <span class="o">=</span> <span class="mi">176</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">button</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span> <span class="o">:</span> <span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="s1">&#39;Meta&#39;</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">width</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">button</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span> <span class="o">:</span> <span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nx">button</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">button</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span> <span class="o">:</span> <span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="p">(</span><span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Shift</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">button</span><span class="p">.</span><span class="nx">addDependency</span><span class="p">(</span><span class="nx">shift</span><span class="p">,</span> <span class="nx">capslock</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">button</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                            <span class="k">if</span> <span class="p">(</span><span class="nx">shift</span><span class="p">.</span><span class="nx">active</span> <span class="o">||</span> <span class="nx">capslock</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                                <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">=</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Shift</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">}</span>
</span></span><span class="line"><span class="cl">                            <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                                <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">=</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">}</span>
</span></span><span class="line"><span class="cl">                        <span class="p">};</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">button</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">button</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">+</span> <span class="nx">row</span> <span class="o">*</span> <span class="p">(</span><span class="nx">height</span> <span class="o">+</span> <span class="nx">margin</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">width</span> <span class="o">&lt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">bbox</span> <span class="o">=</span> <span class="nx">button</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span> <span class="o">+=</span> <span class="nx">bbox</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="nx">margin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">buttons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">prev</span> <span class="o">=</span> <span class="nx">button</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">buttonMap</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">button</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">key</span> <span class="o">===</span> <span class="s2">&#34;ArrowUp&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">key</span> <span class="o">===</span> <span class="s2">&#34;ArrowDown&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">x</span> <span class="o">-=</span> <span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="nx">margin</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mi">16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">x</span> <span class="o">-=</span> <span class="nx">bbox</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="nx">margin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">right</span> <span class="o">=</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">right</span> <span class="o">&lt;</span> <span class="mi">630</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">prev</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">630</span> <span class="o">-</span> <span class="nx">right</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// console.log(keycodes[&#34;0&#34;], shift, capslock);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">active</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onkeydown</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">===</span> <span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">||</span> <span class="p">(</span><span class="nx">keycodes</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">===</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="s1">&#39;#f8f8f8&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="s1">&#39;#404040&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">active</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">buffer</span> <span class="o">+=</span> <span class="sb">`&#39;</span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="si">}</span><span class="sb">&#39;,`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">onkeyup</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">newActive</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">button</span> <span class="k">of</span> <span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">===</span> <span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">||</span> <span class="p">(</span><span class="nx">keycodes</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">contents</span> <span class="o">===</span> <span class="nx">keycodes</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span><span class="p">].</span><span class="nx">Symbol</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">button</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">newActive</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">active</span> <span class="o">=</span> <span class="nx">newActive</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">bbox</span> <span class="o">=</span> <span class="nx">interactive</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">interactive</span><span class="p">.</span><span class="nx">setViewBox</span><span class="p">(</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">margin</span><span class="p">,</span> <span class="nx">bbox</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">bbox</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">margin</span><span class="p">,</span> <span class="nx">bbox</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//# sourceMappingURL=keyboard.js.map
</span></span></span></code></pre></div>


</main>

</body>
</html>
